{{ define "content" }}
    <div class="tags-container">
        <h2>ğŸ·ï¸ {{.title}}</h2>
        <div class="product-tags">
            {{ if and .userInfo (eq .userInfo.Role "admin") }}
            <a href="javascript:void(0)" onclick="createTag()" class="tag">+ åˆ›å»ºæ ‡ç­¾</a>
            {{end}}
            {{ range .tags }}
            <a href="/tags/{{ .ID }}" class="tag">{{ .Name }} ({{ .Count }})</a>
            {{else}}
                <div class="empty-state">
                    <p>ğŸ˜€ æš‚æ— æ ‡ç­¾</p>
                </div>
            {{ end }}
        </div>
    </div>
<script>
function createTag() {
    const tagName = prompt('è¯·è¾“å…¥æ ‡ç­¾åç§°ï¼š');
    if (tagName) {
        fetch('/tags/add?tag=' + encodeURIComponent(tagName), {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.status == 200) {
                window.location.reload();
            } else {
                alert(data.message || 'åˆ›å»ºæ ‡ç­¾å¤±è´¥');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('åˆ›å»ºæ ‡ç­¾å¤±è´¥');
        });
    }
}
</script>
{{ end }}